<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Network-tools by piotrMocz</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Network-tools</h1>
      <h2 class="project-tagline">Simulating traffic in a social network along with analysis tools. </h2>
    </section>

    <section class="main-content">
      <h2>
<a id="opis-projektu" class="anchor" href="#opis-projektu" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Opis projektu</h2>

<p>Projekt ma na celu symulowanie ruchu w sieciach społecznościowych, takich jak Twitter, Facebook czy Google+. Docelowo taką symulację można wykorzystać w celu uczenia algorytmów służących do przewidywania ruchu na maszynach w chmurze lub do stress-testów aplikacji i serwisów webowych. Założeniem projektu jest symulacja przy użyciu aktorowego modelu współbieżności: dzięki temu aplikacja dobrze się skaluje, a za pomocą pojedynczego aktora można zasymulować pojedynczego użytkownika.</p>

<h2>
<a id="struktura-projektu" class="anchor" href="#struktura-projektu" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Struktura projektu</h2>

<p>Projekt dzieli się na dwie główne części: właściwy symulator, oraz część odpowiedzialną za generację złożonych sieci, analizę logów z symulacji i rysowanie wykresów.</p>

<h3>
<a id="symulator" class="anchor" href="#symulator" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Symulator</h3>

<p>Napisany w języku Elixir, bazującym na maszynie wirtualnej Erlanga. Dodatkowo, projekt używa systemu budowania Mix (dedykowanego dla Elixira), pozwalającego na łatwą kompilację i uruchamianie projektu, oraz frameworku OTP, znacznie ułatwiającego budowanie rozproszonych aplikacji.</p>

<p>Działanie symulatora jest następujące: wczytywany jest graf, którego wierzchołki to członkowie sieci społecznościowej, a krawędzie -- znajomości. Następnie, uruchamiany jest jeden proces <code>GenServer</code> per wierzchołek grafu i tworzona jest sieć znajomości (każdy aktor ma listę swoich znajomych). Budowanie sieci odbywa się asynchronicznie, za pomocą przesyłanych wiadomości. Każdy użytkownik ma oprócz tego przypięty proces loggera (zaimplementowany za pomocą mechanizmu <code>GenEvent</code> z OTP), który zbiera od niego wszystkie zdarzenia (również asynchronicznie).</p>

<p>Aplikacja bardzo dobrze się rozprasza, obrazek poniżej pokazuje użycie procesorów dla testowego uruchomienia z dużym obciążeniem.
<img src="https://raw.githubusercontent.com/piotrMocz/network-tools/master/proc-stats.jpg" alt="Processor statistics"></p>

<p>Proces symulacji opiera się na kilku założeniach:</p>

<ul>
<li>użytkownicy tworzą tylko jeden rodzaj treści</li>
<li>treść jest tworzona z pewnym prawdopodobieństwem i ma pewną "jakość"</li>
<li>treść stworzona przez użytkownika jest wysyłana do wszystkich jego znajomych</li>
<li>znajomy, po otrzymaniu treści, decyduje, z pewnym prawdopodobieństwem, czy przekazać wiadomość swoim własnym znajomym</li>
</ul>

<p>Udostępnienie treści przez użytkownika polega na wysłaniu wiadomości do wszystkich jego znajomych. Znajomi, udostępniając treść ponownie wysyłają ją do wszystkich znajomych, którzy jeszcze tej wiadomości nie widzieli.</p>

<h3>
<a id="moduł-tworzenia-grafów-i-analizy" class="anchor" href="#modu%C5%82-tworzenia-graf%C3%B3w-i-analizy" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Moduł tworzenia grafów i analizy</h3>

<p>Sieci społecznościowe mają postać grafów o nietrywialnych właściwościach ("complex networks"). Jedną z najważniejszych cech takiego grafu jest tzw. "Small world property", tzn. średnica grafu jest niewielka. Dodatkowo, w grafie mamy parę "ognisk", które mają dużo więcej sąsiadów od pozostałych. Graf taki generowany jest jako połączenie lasu drzew o głębokości dwa, z dodawanymi krawędziami w zależności od wylosowanych parametrów.</p>

<p>Analiza logów pozwala na rysowanie wykresów aktywności użytkowników, zawierających informacje o ilości stworzonych, wysłanych i odebranych wiadomości w danej chwili. Przykładowy log znajduje się poniżej:
<img src="https://raw.githubusercontent.com/piotrMocz/network-tools/master/user-activity.jpg" alt="Stats"></p>

<h2>
<a id="uruchamianie" class="anchor" href="#uruchamianie" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Uruchamianie</h2>

<p>Generacja grafu:</p>

<pre><code>&gt; cd network_tools/
&gt; python graph-gen.py
&gt; cp graf.txt ../social_traffic/
</code></pre>

<p>Uruchomienie aplikacji (jednym poleceniem):</p>

<pre><code>&gt; cd social_traffic/
&gt; mix compile
&gt; elixir --erl "+sbt ns" -S mix run -e "SocialTraffic.main \"graf.txt\""
</code></pre>

<p>Uruchomienie aplikacji w trybie interaktywnym:</p>

<pre><code>&gt; cd social_traffic/
&gt; mix compile
&gt; iex -S mix
iex(1)&gt; user_ids = SocialTraffic.start("graf.txt")
</code></pre>

<p>Analiza logów (domyślnie):</p>

<pre><code>&gt; cd network-tools/
&gt; python log-processor.py
</code></pre>

<p>Analiza logów z wyborem parametrów:</p>

<pre><code>&gt; cd network-tools/
&gt; python
&gt; from log-processor import process_logs
&gt; process_logs(received=True, sent=True, created=True, linear=True, cumulative=True) # parametry są adjustowalne
</code></pre>

<h2>
<a id="autorzy" class="anchor" href="#autorzy" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Autorzy</h2>

<p>Rafał Różak, Piotr Moczurad, AGH University of Science and Technology</p>

<h2>
<a id="pobieranie-aplikacji" class="anchor" href="#pobieranie-aplikacji" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Pobieranie aplikacji:</h2>

<ul>
<li><a href="https://www.dropbox.com/s/y385dotsrybxqzy/network-tools.tar.gz?dl=0">Network tools (analiza logów, tworzenie grafów)</a></li>
<li><a href="https://www.dropbox.com/s/lmu72mc8gzjg23g/social_traffic.tar.gz?dl=0">Social Traffic (symulacja ruchu)</a></li>
</ul>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/piotrMocz/network-tools">Network-tools</a> is maintained by <a href="https://github.com/piotrMocz">piotrMocz</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
